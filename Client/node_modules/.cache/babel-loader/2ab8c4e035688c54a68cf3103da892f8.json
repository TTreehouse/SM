{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"C:/Users/Torba/Desktop/Web/SM/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/Torba/Desktop/Web/SM/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Torba/Desktop/Web/SM/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Torba/Desktop/Web/SM/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import Header from\"./components/Header\";import Post from\"./components/Post\";import NotTweets from\"./components/NotTweets\";import Refresh from\"./components/Refresh\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notTweets=_useState2[0],setTweets=_useState2[1];useEffect(function(){var getTweets=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tweetsFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTweets();case 2:tweetsFromServer=_context.sent;setTweets(tweetsFromServer);console.log(tweetsFromServer);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getTweets(){return _ref.apply(this,arguments);};}();getTweets();},[]);var fetchTweets=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://14.201.198.86:5000/api/posts\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchTweets(){return _ref2.apply(this,arguments);};}();var post=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(text){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://14.201.198.86:5000/api/posts\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({content:text})});case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;setTweets([data].concat(_toConsumableArray(notTweets)));case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function post(_x){return _ref3.apply(this,arguments);};}();var refresh=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setTweets([notTweets]);console.log(\"refreshed\");case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function refresh(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{text:\"not twitter\"}),/*#__PURE__*/_jsx(Post,{placeholder:\"what's not happening?\",onAdd:post}),/*#__PURE__*/_jsx(NotTweets,{notTweets:notTweets}),/*#__PURE__*/_jsx(Refresh,{onClick:refresh})]});}export default App;","map":{"version":3,"sources":["C:/Users/Torba/Desktop/Web/SM/Client/src/App.js"],"names":["useState","useEffect","Header","Post","NotTweets","Refresh","App","notTweets","setTweets","getTweets","fetchTweets","tweetsFromServer","console","log","fetch","res","json","data","post","text","method","headers","body","JSON","stringify","content","refresh"],"mappings":"ysBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACiBN,QAAQ,CAAC,EAAD,CADzB,wCACPO,SADO,eACIC,SADJ,eAEdP,SAAS,CAAC,UAAM,CACf,GAAMQ,CAAAA,SAAS,0FAAG,8KACcC,CAAAA,WAAW,EADzB,QACXC,gBADW,eAEjBH,SAAS,CAACG,gBAAD,CAAT,CACAC,OAAO,CAACC,GAAR,CAAYF,gBAAZ,EAHiB,sDAAH,kBAATF,CAAAA,SAAS,0CAAf,CAMAA,SAAS,GACT,CARQ,CAQN,EARM,CAAT,CAUA,GAAMC,CAAAA,WAAW,2FAAG,4KACDI,CAAAA,KAAK,uCADJ,QACbC,GADa,uCAEAA,CAAAA,GAAG,CAACC,IAAJ,EAFA,QAEbC,IAFa,iDAIZA,IAJY,0DAAH,kBAAXP,CAAAA,WAAW,2CAAjB,CAOA,GAAMQ,CAAAA,IAAI,2FAAG,kBAAOC,IAAP,0JACML,CAAAA,KAAK,uCAAwC,CAC9DM,MAAM,CAAE,MADsD,CAE9DC,OAAO,CAAE,CACR,eAAgB,kBADR,CAFqD,CAK9DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,OAAO,CAAEN,IAAX,CAAf,CALwD,CAAxC,CADX,QACNJ,GADM,uCASOA,CAAAA,GAAG,CAACC,IAAJ,EATP,QASNC,IATM,gBAUZT,SAAS,EAAES,IAAF,4BAAWV,SAAX,GAAT,CAVY,wDAAH,kBAAJW,CAAAA,IAAI,6CAAV,CAaA,GAAMQ,CAAAA,OAAO,2FAAG,wIACflB,SAAS,CAAC,CAACD,SAAD,CAAD,CAAT,CACAK,OAAO,CAACC,GAAR,CAAY,WAAZ,EAFe,wDAAH,kBAAPa,CAAAA,OAAO,2CAAb,CAKA,mBACC,aAAK,SAAS,CAAC,KAAf,wBACC,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,EADD,cAEC,KAAC,IAAD,EAAM,WAAW,CAAC,uBAAlB,CAA0C,KAAK,CAAER,IAAjD,EAFD,cAGC,KAAC,SAAD,EAAW,SAAS,CAAEX,SAAtB,EAHD,cAIC,KAAC,OAAD,EAAS,OAAO,CAAEmB,OAAlB,EAJD,GADD,CAQA,CAED,cAAepB,CAAAA,GAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport Post from \"./components/Post\";\r\nimport NotTweets from \"./components/NotTweets\";\r\nimport Refresh from \"./components/Refresh\";\r\n\r\nfunction App() {\r\n\tconst [notTweets, setTweets] = useState([]);\r\n\tuseEffect(() => {\r\n\t\tconst getTweets = async () => {\r\n\t\t\tconst tweetsFromServer = await fetchTweets();\r\n\t\t\tsetTweets(tweetsFromServer);\r\n\t\t\tconsole.log(tweetsFromServer);\r\n\t\t};\r\n\r\n\t\tgetTweets();\r\n\t}, []);\r\n\r\n\tconst fetchTweets = async () => {\r\n\t\tconst res = await fetch(`http://14.201.198.86:5000/api/posts`);\r\n\t\tconst data = await res.json();\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tconst post = async (text) => {\r\n\t\tconst res = await fetch(`http://14.201.198.86:5000/api/posts`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ content: text }),\r\n\t\t});\r\n\r\n\t\tconst data = await res.json();\r\n\t\tsetTweets([data, ...notTweets]);\r\n\t};\r\n\r\n\tconst refresh = async () => {\r\n\t\tsetTweets([notTweets]);\r\n\t\tconsole.log(\"refreshed\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<Header text='not twitter' />\r\n\t\t\t<Post placeholder=\"what's not happening?\" onAdd={post} />\r\n\t\t\t<NotTweets notTweets={notTweets}></NotTweets>\r\n\t\t\t<Refresh onClick={refresh}></Refresh>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}